
<!DOCTYPE html>
<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/2.2.1/lodash.underscore.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/2.2.1/lodash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js "></script>
    
    
    <script src="app.js"></script>
    <link rel="stylesheet" type="text/css"href="style.css">
</head> 
<body ng-app="myapp" ng-controller="ListController">     
    <div class="container">
        <h2>Employee Details</h2>
        <div class="row">
            <div class="col-md-12">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <form ng-submit="addNew()">
                            <table class="table table-striped table-bordered">
                                <thead>
                                    <tr>
                                        <th><input type="checkbox" ng-model="selectedAll" ng-click="checkAll()" /></th>
                                        <th ng-click="sortByNameFlag = !sortByNameFlag;sortByName(employeeDetails)">
                                                Name <span class="glyphicon glyphicon-sort"></span>
                                        </th>
                                        <th ng-click="sortByCategoryFlag=!sortByCategoryFlag;sortByCategory(employeeDetails)">
                                            Category <span class="glyphicon glyphicon-sort"></span>
                                        </th>
                                        <th ng-click="sortByAmountFlag=!sortByAmountFlag;sortByAmount(employeeDetails)" >
                                            Amount <span class="glyphicon glyphicon-sort"></span>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="emp in employeeDetails">
                                        <td>
                                            <input type="checkbox" ng-model="emp.selected"/></td>
                                        <td>
                                            <input type="text" class="form-control" ng-model="emp.name" required/></td>
                                        <td>
                                            <input type="text" class="form-control" ng-model="emp.category" required/></td>
                                        <td>
                                            <input type="number" class="form-control" ng-model="emp.amount" required/></td>
                                    </tr>
                                </tbody>
                            </table>

                            <div class="form-group">
                                <input ng-hide="!employeeDetails.length" type="button" class="btn btn-danger pull-right" ng-click="remove()" value="Remove">
                                <input type="submit" class="btn btn-primary addnew pull-right" value="Add New">
                                <input ng-hide="!employeeDetails.length" type="button" class="btn btn-primary pull-right" ng-click="parseJsonData(employeeDetails)" value="Transform Data">
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div ng-if="transformedEmployeeDetails" class="container">
        <h4>Tranformed json data</h4>
        <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>
                            Name
                        </th>
                        <th>
                            Category: C1 
                        </th>
                        <th>
                            Category: C2 
                        </th>
                        <th>
                            Category: C3 
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="emp in transformedEmployeeDetails">
                        <td>{{emp.name}}</td>
                        <td>{{displayC1Val(emp.empdata)}}</td>
                        <td>{{displayC2Val(emp.empdata)}}</td>
                        <td>{{displayC3Val(emp.empdata)}}</td>
                    </tr>
                </tbody>
            </table>
    </div>
</body>
</html>